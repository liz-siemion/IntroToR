<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Data Organization | CDFW Introduction to R Programming</title>
  <meta name="description" content="Chapter 8 Data Organization | CDFW Introduction to R Programming Workshop" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Data Organization | CDFW Introduction to R Programming" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Chapter 8 Data Organization | CDFW Introduction to R Programming Workshop" />
  <meta name="github-repo" content="liz-siemion/IntroToR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Data Organization | CDFW Introduction to R Programming" />
  
  <meta name="twitter:description" content="Chapter 8 Data Organization | CDFW Introduction to R Programming Workshop" />
  

<meta name="author" content="Liz Siemion &amp; Dave German" />


<meta name="date" content="2025-05-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="import-export.html"/>
<link rel="next" href="control.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CDFW Introduction to R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#workshop-goals"><i class="fa fa-check"></i><b>1.1</b> Workshop Goals</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#workshop-content"><i class="fa fa-check"></i><b>1.2</b> Workshop Content</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Intro to R and R-Studio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#what-is-r"><i class="fa fa-check"></i><b>2.1</b> What is R?</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#directory-structure"><i class="fa fa-check"></i><b>2.2</b> Directory Structure</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#r-studio"><i class="fa fa-check"></i><b>2.3</b> R Studio</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#rstudio-projects"><i class="fa fa-check"></i><b>2.4</b> RStudio Projects</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="file.html"><a href="file.html"><i class="fa fa-check"></i><b>3</b> File paths</a>
<ul>
<li class="chapter" data-level="3.1" data-path="file.html"><a href="file.html#what-is-a-file-path"><i class="fa fa-check"></i><b>3.1</b> What is a file path?</a></li>
<li class="chapter" data-level="3.2" data-path="file.html"><a href="file.html#different-separators-between-operating-systems"><i class="fa fa-check"></i><b>3.2</b> Different separators between operating systems</a></li>
<li class="chapter" data-level="3.3" data-path="file.html"><a href="file.html#absolute-and-relative-file-paths"><i class="fa fa-check"></i><b>3.3</b> Absolute and Relative file paths</a></li>
<li class="chapter" data-level="3.4" data-path="file.html"><a href="file.html#navigating-outside-the-working-directory"><i class="fa fa-check"></i><b>3.4</b> Navigating outside the working directory</a></li>
<li class="chapter" data-level="3.5" data-path="file.html"><a href="file.html#using-the-tab-shortcut-in-rstudio"><i class="fa fa-check"></i><b>3.5</b> Using the Tab Shortcut in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>4</b> Tidy Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data-1"><i class="fa fa-check"></i><b>4.1</b> Tidy Data</a></li>
<li class="chapter" data-level="4.2" data-path="tidy-data.html"><a href="tidy-data.html#document-your-code"><i class="fa fa-check"></i><b>4.2</b> Document your code</a></li>
<li class="chapter" data-level="4.3" data-path="tidy-data.html"><a href="tidy-data.html#rows-for-observations-columns-for-variables"><i class="fa fa-check"></i><b>4.3</b> Rows for Observations, Columns for Variables</a></li>
<li class="chapter" data-level="4.4" data-path="tidy-data.html"><a href="tidy-data.html#problemmatic-practices"><i class="fa fa-check"></i><b>4.4</b> Problemmatic Practices</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="using-r.html"><a href="using-r.html"><i class="fa fa-check"></i><b>5</b> Using R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="using-r.html"><a href="using-r.html#packages"><i class="fa fa-check"></i><b>5.1</b> Installing Packages</a></li>
<li class="chapter" data-level="5.2" data-path="using-r.html"><a href="using-r.html#using-comments"><i class="fa fa-check"></i><b>5.2</b> Using Comments</a></li>
<li class="chapter" data-level="5.3" data-path="using-r.html"><a href="using-r.html#functions"><i class="fa fa-check"></i><b>5.3</b> Functions</a></li>
<li class="chapter" data-level="5.4" data-path="using-r.html"><a href="using-r.html#use-r-as-a-calculator"><i class="fa fa-check"></i><b>5.4</b> Use R as a calculator</a></li>
<li class="chapter" data-level="5.5" data-path="using-r.html"><a href="using-r.html#use-r-to-compare-things"><i class="fa fa-check"></i><b>5.5</b> Use R to compare things</a></li>
<li class="chapter" data-level="5.6" data-path="using-r.html"><a href="using-r.html#r-objects"><i class="fa fa-check"></i><b>5.6</b> Use R to assign objects</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="using-r.html"><a href="using-r.html#variable-names"><i class="fa fa-check"></i><b>5.6.1</b> Variable names</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="using-r.html"><a href="using-r.html#data-types"><i class="fa fa-check"></i><b>5.7</b> Data Types (Modes)</a></li>
<li class="chapter" data-level="5.8" data-path="using-r.html"><a href="using-r.html#other-object-types"><i class="fa fa-check"></i><b>5.8</b> Other Object Types</a></li>
<li class="chapter" data-level="5.9" data-path="using-r.html"><a href="using-r.html#data-classes"><i class="fa fa-check"></i><b>5.9</b> Data Structure Classes</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="using-r.html"><a href="using-r.html#scalar"><i class="fa fa-check"></i><b>5.9.1</b> Scalar</a></li>
<li class="chapter" data-level="5.9.2" data-path="using-r.html"><a href="using-r.html#vector"><i class="fa fa-check"></i><b>5.9.2</b> Vector</a></li>
<li class="chapter" data-level="5.9.3" data-path="using-r.html"><a href="using-r.html#lists"><i class="fa fa-check"></i><b>5.9.3</b> Lists</a></li>
<li class="chapter" data-level="5.9.4" data-path="using-r.html"><a href="using-r.html#matrix"><i class="fa fa-check"></i><b>5.9.4</b> Matrix</a></li>
<li class="chapter" data-level="5.9.5" data-path="using-r.html"><a href="using-r.html#data-frames"><i class="fa fa-check"></i><b>5.9.5</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="using-r.html"><a href="using-r.html#index"><i class="fa fa-check"></i><b>5.10</b> Indexing</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="using-r.html"><a href="using-r.html#numerical-indexing"><i class="fa fa-check"></i><b>5.10.1</b> Numerical Indexing</a></li>
<li class="chapter" data-level="5.10.2" data-path="using-r.html"><a href="using-r.html#named-indexing"><i class="fa fa-check"></i><b>5.10.2</b> Named Indexing</a></li>
<li class="chapter" data-level="5.10.3" data-path="using-r.html"><a href="using-r.html#logical-indexing"><i class="fa fa-check"></i><b>5.10.3</b> Logical Indexing</a></li>
<li class="chapter" data-level="5.10.4" data-path="using-r.html"><a href="using-r.html#range-or-sequence-indexing"><i class="fa fa-check"></i><b>5.10.4</b> Range or Sequence Indexing</a></li>
<li class="chapter" data-level="5.10.5" data-path="using-r.html"><a href="using-r.html#negative-indexing"><i class="fa fa-check"></i><b>5.10.5</b> Negative Indexing</a></li>
<li class="chapter" data-level="5.10.6" data-path="using-r.html"><a href="using-r.html#which-indexing"><i class="fa fa-check"></i><b>5.10.6</b> Which Indexing</a></li>
<li class="chapter" data-level="5.10.7" data-path="using-r.html"><a href="using-r.html#indexing-different-data-types"><i class="fa fa-check"></i><b>5.10.7</b> Indexing different data types</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="using-r.html"><a href="using-r.html#baser-plotting"><i class="fa fa-check"></i><b>5.11</b> BaseR Plotting</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>6</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tidyverse.html"><a href="tidyverse.html#why-tidyverse"><i class="fa fa-check"></i><b>6.1</b> Why Tidyverse?</a></li>
<li class="chapter" data-level="6.2" data-path="tidyverse.html"><a href="tidyverse.html#main-dplyr-functions"><i class="fa fa-check"></i><b>6.2</b> Main dplyr Functions</a></li>
<li class="chapter" data-level="6.3" data-path="tidyverse.html"><a href="tidyverse.html#tidyverse-vs-baser"><i class="fa fa-check"></i><b>6.3</b> Tidyverse vs BaseR</a></li>
<li class="chapter" data-level="6.4" data-path="tidyverse.html"><a href="tidyverse.html#ggplot"><i class="fa fa-check"></i><b>6.4</b> ggplot</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="tidyverse.html"><a href="tidyverse.html#components-of-ggplot"><i class="fa fa-check"></i><b>6.4.1</b> Components of ggplot</a></li>
<li class="chapter" data-level="6.4.2" data-path="tidyverse.html"><a href="tidyverse.html#different-plots-in-ggplot"><i class="fa fa-check"></i><b>6.4.2</b> Different plots in ggplot</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="tidyverse.html"><a href="tidyverse.html#tidyverse-analysis-example"><i class="fa fa-check"></i><b>6.5</b> Tidyverse Analysis Example</a></li>
<li class="chapter" data-level="6.6" data-path="tidyverse.html"><a href="tidyverse.html#load-libraries"><i class="fa fa-check"></i><b>6.6</b> Load libraries</a></li>
<li class="chapter" data-level="6.7" data-path="tidyverse.html"><a href="tidyverse.html#examine-data-frame"><i class="fa fa-check"></i><b>6.7</b> Examine data frame</a></li>
<li class="chapter" data-level="6.8" data-path="tidyverse.html"><a href="tidyverse.html#manipulate-data-frame"><i class="fa fa-check"></i><b>6.8</b> Manipulate data frame</a></li>
<li class="chapter" data-level="6.9" data-path="tidyverse.html"><a href="tidyverse.html#analysis"><i class="fa fa-check"></i><b>6.9</b> Analysis</a></li>
<li class="chapter" data-level="6.10" data-path="tidyverse.html"><a href="tidyverse.html#plot-results-using-ggplot2"><i class="fa fa-check"></i><b>6.10</b> Plot results using ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="import-export.html"><a href="import-export.html"><i class="fa fa-check"></i><b>7</b> Importing &amp; Exporting Data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="import-export.html"><a href="import-export.html#csv-files"><i class="fa fa-check"></i><b>7.1</b> csv files</a></li>
<li class="chapter" data-level="7.2" data-path="import-export.html"><a href="import-export.html#xlsx-files"><i class="fa fa-check"></i><b>7.2</b> xlsx files</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="import-export.html"><a href="import-export.html#rds-files"><i class="fa fa-check"></i><b>7.2.1</b> rds files</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="import-export.html"><a href="import-export.html#connect-to-a-database-on-windows-os"><i class="fa fa-check"></i><b>7.3</b> Connect to a database on Windows OS</a></li>
<li class="chapter" data-level="7.4" data-path="import-export.html"><a href="import-export.html#load-database-files-on-a-macbook"><i class="fa fa-check"></i><b>7.4</b> Load database files on a Macbook</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-org.html"><a href="data-org.html"><i class="fa fa-check"></i><b>8</b> Data Organization</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-org.html"><a href="data-org.html#exploring-data-frames"><i class="fa fa-check"></i><b>8.1</b> Exploring Data Frames</a></li>
<li class="chapter" data-level="8.2" data-path="data-org.html"><a href="data-org.html#vectorized"><i class="fa fa-check"></i><b>8.2</b> Vectorized Operations</a></li>
<li class="chapter" data-level="8.3" data-path="data-org.html"><a href="data-org.html#data-frame-manipulation"><i class="fa fa-check"></i><b>8.3</b> Data Frame Manipulation</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="control.html"><a href="control.html"><i class="fa fa-check"></i><b>9</b> Control Structures</a>
<ul>
<li class="chapter" data-level="9.1" data-path="control.html"><a href="control.html#for-loops"><i class="fa fa-check"></i><b>9.1</b> Loops</a></li>
<li class="chapter" data-level="9.2" data-path="control.html"><a href="control.html#troubleshooting-for-loops"><i class="fa fa-check"></i><b>9.2</b> Troubleshooting For-loops</a></li>
<li class="chapter" data-level="9.3" data-path="control.html"><a href="control.html#if-else-and-ifelse-statements"><i class="fa fa-check"></i><b>9.3</b> if, else, and ifelse statements</a></li>
<li class="chapter" data-level="9.4" data-path="control.html"><a href="control.html#next-and-break"><i class="fa fa-check"></i><b>9.4</b> next and break</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="statistical-summaries.html"><a href="statistical-summaries.html"><i class="fa fa-check"></i><b>10</b> Statistical Summaries</a></li>
<li class="chapter" data-level="11" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>11</b> Debugging Code</a>
<ul>
<li class="chapter" data-level="11.1" data-path="debugging.html"><a href="debugging.html#locating-problematic-code"><i class="fa fa-check"></i><b>11.1</b> Locating Problematic Code</a></li>
<li class="chapter" data-level="11.2" data-path="debugging.html"><a href="debugging.html#syntax-errors"><i class="fa fa-check"></i><b>11.2</b> Syntax errors</a></li>
<li class="chapter" data-level="11.3" data-path="debugging.html"><a href="debugging.html#missing-and-undefined-data"><i class="fa fa-check"></i><b>11.3</b> Missing and Undefined Data</a></li>
<li class="chapter" data-level="11.4" data-path="debugging.html"><a href="debugging.html#coercian-problems"><i class="fa fa-check"></i><b>11.4</b> Coercian Problems</a></li>
<li class="chapter" data-level="11.5" data-path="debugging.html"><a href="debugging.html#labeling-function-arguments"><i class="fa fa-check"></i><b>11.5</b> Labeling function arguments</a></li>
<li class="chapter" data-level="11.6" data-path="debugging.html"><a href="debugging.html#conflicting-functions"><i class="fa fa-check"></i><b>11.6</b> Conflicting Functions</a></li>
<li class="chapter" data-level="11.7" data-path="debugging.html"><a href="debugging.html#use-the-help-function"><i class="fa fa-check"></i><b>11.7</b> Use the Help <code>?</code> Function!</a></li>
<li class="chapter" data-level="11.8" data-path="debugging.html"><a href="debugging.html#google"><i class="fa fa-check"></i><b>11.8</b> Google</a></li>
<li class="chapter" data-level="11.9" data-path="debugging.html"><a href="debugging.html#ai"><i class="fa fa-check"></i><b>11.9</b> AI</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="readable-r.html"><a href="readable-r.html"><i class="fa fa-check"></i><b>12</b> Making Readable R Code</a>
<ul>
<li class="chapter" data-level="12.1" data-path="readable-r.html"><a href="readable-r.html#outlining-r-scripts"><i class="fa fa-check"></i><b>12.1</b> Outlining R Scripts</a></li>
<li class="chapter" data-level="12.2" data-path="readable-r.html"><a href="readable-r.html#pseudocoding"><i class="fa fa-check"></i><b>12.2</b> Pseudocoding</a></li>
<li class="chapter" data-level="12.3" data-path="readable-r.html"><a href="readable-r.html#making-readable-r-code"><i class="fa fa-check"></i><b>12.3</b> Making Readable R Code</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="class-wrap-up.html"><a href="class-wrap-up.html"><i class="fa fa-check"></i><b>13</b> Class Wrap Up</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CDFW Introduction to R Programming</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-org" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> Data Organization<a href="data-org.html#data-org" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Let’s start by downloading some data and exploring it in a data frame. In this example, we’ll load a CSV file. We’ll cover how to import and export different types of data files in more detail later.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="data-org.html#cb158-1" tabindex="-1"></a>mort <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;./docs/data/BighornMortTable.csv&quot;</span>)</span></code></pre></div>
<div id="exploring-data-frames" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Exploring Data Frames<a href="data-org.html#exploring-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s take a look at the data. Exploring your dataset is one of the most important first steps when working in R. It helps you understand the structure, types of variables, and potential issues before doing any analysis. A good place to start is by examining the structure of the data to see what you’re working with.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="data-org.html#cb159-1" tabindex="-1"></a><span class="co"># str() shows us the structure of the data, including the data mode, </span></span>
<span id="cb159-2"><a href="data-org.html#cb159-2" tabindex="-1"></a><span class="co"># the dimensions of # the dataframe including the data mode, the dimensions of </span></span>
<span id="cb159-3"><a href="data-org.html#cb159-3" tabindex="-1"></a><span class="co"># the dataframe, and a few observations</span></span>
<span id="cb159-4"><a href="data-org.html#cb159-4" tabindex="-1"></a><span class="fu">str</span>(mort)  </span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1061 obs. of  45 variables:
##  $ NecropDateDt              : chr  &quot;31-Jan-25&quot; &quot;21-Jan-25&quot; &quot;05-Jan-25&quot; &quot;08-Sep-24&quot; ...
##  $ NecropDate                : int  20250131 20250121 20250105 20240908 20240709 20240617 20240604 20240530 20240528 20240520 ...
##  $ DeadDateDt                : chr  &quot;22-Jan-25&quot; &quot;25-Jun-23&quot; &quot;02-Dec-24&quot; &quot;26-Feb-17&quot; ...
##  $ DeadDate                  : int  20250122 20230625 20241202 20170226 20240311 20240308 20230925 20240127 20240101 20240430 ...
##  $ Date1stHeardDt            : chr  &quot;30-Jan-25&quot; &quot;&quot; &quot;02-Dec-24&quot; &quot;&quot; ...
##  $ Date1stHeard              : int  20250130 NA 20241202 NA 20240508 20240308 20230925 20240127 20240101 20240430 ...
##  $ AgeCarcass                : int  9 583 33 NA 120 NA 254 123 120 21 ...
##  $ BestDead                  : int  NA NA 20241202 20170226 20240311 20240308 20230925 20240127 20240101 20240430 ...
##  $ AnimalYear                : int  NA NA 2024 2016 2023 2023 2023 2023 2023 2023 ...
##  $ Recorder                  : chr  &quot;C_Massing&quot; &quot;M_Christopher&quot; &quot;L_Greene&quot; &quot;L_Greene&quot; ...
##  $ Herd                      : chr  &quot;Mt. Williamson&quot; &quot;Mt. Baxter&quot; &quot;Mt. Gibbs&quot; &quot;Mt. Langley&quot; ...
##  $ Animal_ID                 : chr  &quot;M267&quot; &quot;M266&quot; &quot;M265&quot; &quot;S217&quot; ...
##  $ Sex                       : chr  &quot;Male&quot; &quot;Male&quot; &quot;Unknown&quot; &quot;Male&quot; ...
##  $ Age                       : chr  &quot;6&quot; &quot;11&quot; &quot;0&quot; &quot;5&quot; ...
##  $ AgeEstMethod              : chr  &quot;Horn Rings&quot; &quot;Horn Rings&quot; &quot;Size of Remains&quot; &quot;Horn Rings&quot; ...
##  $ GPS_CollarSerialNo_Date_FK: chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ CollarSN                  : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ VHF_freq                  : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ Location                  : chr  &quot;On Shepherd Pass trail, 1 mi up from TH, ~6800ft elevation&quot; &quot;Sand Mtn&quot; &quot;Gibbs, S side&quot; &quot;Hitchcock Ridge, near rainbow camp&quot; ...
##  $ InvestReason              : chr  &quot;Opportunistic&quot; &quot;Opportunistic&quot; &quot;Lion Cluster&quot; &quot;opportunistic&quot; ...
##  $ UTM_E                     : int  384668 384854 306232 378981 299699 352085 399881 352786 349902 381814 ...
##  $ UTM_N                     : int  4067085 4085215 4193944 4046150 4216718 4142608 4012253 4149065 4144062 4079364 ...
##  $ ElevDEM                   : int  NA NA NA NA NA NA NA NA NA NA ...
##  $ CarcassCon                : chr  &quot;Consumed&quot; &quot;Consumed&quot; &quot;Consumed&quot; &quot;Scavenged&quot; ...
##  $ Cause_Mort                : chr  &quot;Lion&quot; &quot;Unknown&quot; &quot;Lion&quot; &quot;Unknown not Predation&quot; ...
##  $ CausMortAcc               : chr  &quot;Certain&quot; &quot;&quot; &quot;Certain&quot; &quot;Certain&quot; ...
##  $ ConditionNotes            : chr  &quot;skeleton intact, ribs clipped, eaten, most meat eaten but not all, legs with hair still intact&quot; &quot;old carcass, bleached bones, still close together, complete skull attached to spine, couple loose ribs, jaw, pelvis&quot; &quot;rumen and lower leg, snow may have covered some remains&quot; &quot;bone fragments and skull. Not in avalanche path, not cached&quot; ...
##  $ Evidence                  : chr  &quot;rumen intact, ribs clipped, hair plucked.&quot; &quot;could be lion, clipped ribs, broken pelvis, leg bones chewed, all bones clost together, but it is all too old to be sure&quot; &quot;lion cluster, broken long bones, rumen intact&quot; &quot;this ribs still attached to backbone, some gnawed off but not clipped.&quot; ...
##  $ Comments                  : chr  &quot;Lion could have scavenged dead sheep. Sheep on trail, not below cliff. Collected scat in possible latrine, it w&quot;| __truncated__ &quot;estimated date of death based on condition of bones, very unknown but skeleton still there and mostly intact&quot; &quot;metarsus measured ~21cm which could be very small adult or more likely lamb&quot; &quot;Originally censored but found opportunistically with collar and eartag. Bones starting to get crumbly, may have&quot;| __truncated__ ...
##  $ CauseMortRevised          : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ RevisionReason            : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ PhotoTaken                : chr  &quot;Y&quot; &quot;Y&quot; &quot;Y&quot; &quot;&quot; ...
##  $ Houndsmen                 : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ RumenIntact               : chr  &quot;Y&quot; &quot;N&quot; &quot;Y&quot; &quot;&quot; ...
##  $ TracksFound               : chr  &quot;N&quot; &quot;N&quot; &quot;&quot; &quot;&quot; ...
##  $ ScatFound                 : chr  &quot;&quot; &quot;N&quot; &quot;&quot; &quot;&quot; ...
##  $ DragMarks                 : chr  &quot;N&quot; &quot;N&quot; &quot;&quot; &quot;&quot; ...
##  $ Latrine                   : chr  &quot;&quot; &quot;N&quot; &quot;&quot; &quot;&quot; ...
##  $ Femur                     : chr  &quot;N&quot; &quot;N&quot; &quot;&quot; &quot;n&quot; ...
##  $ Tooth                     : chr  &quot;N&quot; &quot;N&quot; &quot;&quot; &quot;n&quot; ...
##  $ Mandible                  : chr  &quot;N&quot; &quot;N&quot; &quot;&quot; &quot;n&quot; ...
##  $ Skull                     : chr  &quot;N&quot; &quot;N&quot; &quot;&quot; &quot;n&quot; ...
##  $ LionID                    : chr  &quot;&quot; &quot;&quot; &quot;267&quot; &quot;&quot; ...
##  $ KillLocUsingGPSData       : chr  &quot;N&quot; &quot;N&quot; &quot;Y&quot; &quot;n&quot; ...
##  $ LionClusterID             : chr  &quot;&quot; &quot;&quot; &quot;267_20241202&quot; &quot;&quot; ...</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="data-org.html#cb161-1" tabindex="-1"></a><span class="fu">length</span>(mort) <span class="co"># gives the number of columns</span></span></code></pre></div>
<pre><code>## [1] 45</code></pre>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="data-org.html#cb163-1" tabindex="-1"></a><span class="fu">nrow</span>(mort) <span class="co"># to get the number of rows</span></span></code></pre></div>
<pre><code>## [1] 1061</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="data-org.html#cb165-1" tabindex="-1"></a><span class="fu">ncol</span>(mort) <span class="co"># number of columns</span></span></code></pre></div>
<pre><code>## [1] 45</code></pre>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="data-org.html#cb167-1" tabindex="-1"></a><span class="fu">dim</span>(mort) <span class="co"># or both at once, dim()</span></span></code></pre></div>
<pre><code>## [1] 1061   45</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="data-org.html#cb169-1" tabindex="-1"></a><span class="fu">names</span>(mort) <span class="co"># names of the columns</span></span></code></pre></div>
<pre><code>##  [1] &quot;NecropDateDt&quot;               &quot;NecropDate&quot;                
##  [3] &quot;DeadDateDt&quot;                 &quot;DeadDate&quot;                  
##  [5] &quot;Date1stHeardDt&quot;             &quot;Date1stHeard&quot;              
##  [7] &quot;AgeCarcass&quot;                 &quot;BestDead&quot;                  
##  [9] &quot;AnimalYear&quot;                 &quot;Recorder&quot;                  
## [11] &quot;Herd&quot;                       &quot;Animal_ID&quot;                 
## [13] &quot;Sex&quot;                        &quot;Age&quot;                       
## [15] &quot;AgeEstMethod&quot;               &quot;GPS_CollarSerialNo_Date_FK&quot;
## [17] &quot;CollarSN&quot;                   &quot;VHF_freq&quot;                  
## [19] &quot;Location&quot;                   &quot;InvestReason&quot;              
## [21] &quot;UTM_E&quot;                      &quot;UTM_N&quot;                     
## [23] &quot;ElevDEM&quot;                    &quot;CarcassCon&quot;                
## [25] &quot;Cause_Mort&quot;                 &quot;CausMortAcc&quot;               
## [27] &quot;ConditionNotes&quot;             &quot;Evidence&quot;                  
## [29] &quot;Comments&quot;                   &quot;CauseMortRevised&quot;          
## [31] &quot;RevisionReason&quot;             &quot;PhotoTaken&quot;                
## [33] &quot;Houndsmen&quot;                  &quot;RumenIntact&quot;               
## [35] &quot;TracksFound&quot;                &quot;ScatFound&quot;                 
## [37] &quot;DragMarks&quot;                  &quot;Latrine&quot;                   
## [39] &quot;Femur&quot;                      &quot;Tooth&quot;                     
## [41] &quot;Mandible&quot;                   &quot;Skull&quot;                     
## [43] &quot;LionID&quot;                     &quot;KillLocUsingGPSData&quot;       
## [45] &quot;LionClusterID&quot;</code></pre>
<p>It’s a good time to ask ourselves if the structure R is reporting matches our intuition:</p>
<ul>
<li>Does the data type for each column make sense?</li>
<li>If not, we need to sort out those issues now so we</li>
<li>Don’t run into issues down the road. Once we’re happy with our data types, we can really start digging into our data!</li>
</ul>
<p>We can also examine individual columns:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="data-org.html#cb171-1" tabindex="-1"></a><span class="fu">class</span>(mort<span class="sc">$</span>AnimalYear) </span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="data-org.html#cb173-1" tabindex="-1"></a><span class="fu">class</span>(mort<span class="sc">$</span>Animal_ID)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="data-org.html#cb175-1" tabindex="-1"></a><span class="fu">str</span>(mort<span class="sc">$</span>Cause_Mort)</span></code></pre></div>
<pre><code>##  chr [1:1061] &quot;Lion&quot; &quot;Unknown&quot; &quot;Lion&quot; &quot;Unknown not Predation&quot; &quot;Lion&quot; ...</code></pre>
<p>We can also index a dataframe column using the operator.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="data-org.html#cb177-1" tabindex="-1"></a>mort<span class="sc">$</span>Animal_ID[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] &quot;M267&quot;</code></pre>
<p>We can use the functions <code>head()</code> and <code>tail()</code> to look at the first or last 6 rows of the data frame.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="data-org.html#cb179-1" tabindex="-1"></a><span class="fu">head</span>(mort, <span class="at">n =</span> <span class="dv">3</span>) <span class="co"># n = refers to how many rows to print </span></span></code></pre></div>
<pre><code>##   NecropDateDt NecropDate DeadDateDt DeadDate Date1stHeardDt Date1stHeard
## 1    31-Jan-25   20250131  22-Jan-25 20250122      30-Jan-25     20250130
## 2    21-Jan-25   20250121  25-Jun-23 20230625                          NA
## 3    05-Jan-25   20250105  02-Dec-24 20241202      02-Dec-24     20241202
##   AgeCarcass BestDead AnimalYear      Recorder           Herd Animal_ID     Sex
## 1          9       NA         NA     C_Massing Mt. Williamson      M267    Male
## 2        583       NA         NA M_Christopher     Mt. Baxter      M266    Male
## 3         33 20241202       2024      L_Greene      Mt. Gibbs      M265 Unknown
##   Age    AgeEstMethod GPS_CollarSerialNo_Date_FK CollarSN VHF_freq
## 1   6      Horn Rings                                             
## 2  11      Horn Rings                                             
## 3   0 Size of Remains                                             
##                                                     Location  InvestReason
## 1 On Shepherd Pass trail, 1 mi up from TH, ~6800ft elevation Opportunistic
## 2                                                   Sand Mtn Opportunistic
## 3                                              Gibbs, S side  Lion Cluster
##    UTM_E   UTM_N ElevDEM CarcassCon Cause_Mort CausMortAcc
## 1 384668 4067085      NA   Consumed       Lion     Certain
## 2 384854 4085215      NA   Consumed    Unknown            
## 3 306232 4193944      NA   Consumed       Lion     Certain
##                                                                                                        ConditionNotes
## 1                      skeleton intact, ribs clipped, eaten, most meat eaten but not all, legs with hair still intact
## 2 old carcass, bleached bones, still close together, complete skull attached to spine, couple loose ribs, jaw, pelvis
## 3                                                             rumen and lower leg, snow may have covered some remains
##                                                                                                                   Evidence
## 1                                                                                rumen intact, ribs clipped, hair plucked.
## 2 could be lion, clipped ribs, broken pelvis, leg bones chewed, all bones clost together, but it is all too old to be sure
## 3                                                                            lion cluster, broken long bones, rumen intact
##                                                                                                                                                                                                                                                                                                          Comments
## 1 Lion could have scavenged dead sheep. Sheep on trail, not below cliff. Collected scat in possible latrine, it was liquid (had dried), hard to know if it was lion scat. Lion hairs found in bed near carcass. Snow fell 5 days before and did not find clear tracks around carcass other than human and canine.
## 2                                                                                                                                                                                                    estimated date of death based on condition of bones, very unknown but skeleton still there and mostly intact
## 3                                                                                                                                                                                                                                     metarsus measured ~21cm which could be very small adult or more likely lamb
##   CauseMortRevised RevisionReason PhotoTaken Houndsmen RumenIntact TracksFound
## 1                                          Y                     Y           N
## 2                                          Y                     N           N
## 3                                          Y                     Y            
##   ScatFound DragMarks Latrine Femur Tooth Mandible Skull LionID
## 1                   N             N     N        N     N       
## 2         N         N       N     N     N        N     N       
## 3                                                           267
##   KillLocUsingGPSData LionClusterID
## 1                   N              
## 2                   N              
## 3                   Y  267_20241202</code></pre>
<p>Similarly, <code>[[</code> will act to extract a single column:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="data-org.html#cb181-1" tabindex="-1"></a>mort[[<span class="st">&quot;AnimalYear&quot;</span>]][<span class="dv">500</span>] <span class="co"># extract the 500th row of the AnimalYear column</span></span></code></pre></div>
<pre><code>## [1] 2016</code></pre>
<p>We can also use square brackets to extract specific elements from a data frame. Remember that data frame indexing follows the format [rows, columns], so the first number refers to the row, and the second to the column.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="data-org.html#cb183-1" tabindex="-1"></a><span class="co"># [rows, columns]</span></span>
<span id="cb183-2"><a href="data-org.html#cb183-2" tabindex="-1"></a>mort[<span class="dv">1</span>,<span class="dv">2</span>] <span class="co"># grab element at first row and second column</span></span></code></pre></div>
<pre><code>## [1] 20250131</code></pre>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="data-org.html#cb185-1" tabindex="-1"></a>mort[<span class="dv">1</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>] <span class="co"># grab row 1 in columns 1-6</span></span></code></pre></div>
<pre><code>##   NecropDateDt NecropDate DeadDateDt DeadDate Date1stHeardDt Date1stHeard
## 1    31-Jan-25   20250131  22-Jan-25 20250122      30-Jan-25     20250130</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="data-org.html#cb187-1" tabindex="-1"></a>mort[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">5</span>] <span class="co"># grab row 1-6 in column 5</span></span></code></pre></div>
<pre><code>## [1] &quot;30-Jan-25&quot; &quot;&quot;          &quot;02-Dec-24&quot; &quot;&quot;          &quot;08-May-24&quot; &quot;08-Mar-24&quot;</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="data-org.html#cb189-1" tabindex="-1"></a>mort[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>] <span class="co"># grab row 1-6 in columns 1-6</span></span></code></pre></div>
<pre><code>##   NecropDateDt NecropDate DeadDateDt DeadDate Date1stHeardDt Date1stHeard
## 1    31-Jan-25   20250131  22-Jan-25 20250122      30-Jan-25     20250130
## 2    21-Jan-25   20250121  25-Jun-23 20230625                          NA
## 3    05-Jan-25   20250105  02-Dec-24 20241202      02-Dec-24     20241202
## 4    08-Sep-24   20240908  26-Feb-17 20170226                          NA
## 5    09-Jul-24   20240709  11-Mar-24 20240311      08-May-24     20240508
## 6    17-Jun-24   20240617  08-Mar-24 20240308      08-Mar-24     20240308</code></pre>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="data-org.html#cb191-1" tabindex="-1"></a><span class="fu">head</span>(mort[,<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">n =</span> <span class="dv">5</span>) <span class="co"># grab all rows from columns 1-3, show me the first 5 rows</span></span></code></pre></div>
<pre><code>##   NecropDateDt NecropDate DeadDateDt
## 1    31-Jan-25   20250131  22-Jan-25
## 2    21-Jan-25   20250121  25-Jun-23
## 3    05-Jan-25   20250105  02-Dec-24
## 4    08-Sep-24   20240908  26-Feb-17
## 5    09-Jul-24   20240709  11-Mar-24</code></pre>
</div>
<div id="vectorized" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Vectorized Operations<a href="data-org.html#vectorized" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R is a natively vectorized language, which means it can automatically perform operations on entire vectors (columns of data) without the need for explicit loops. This makes data manipulation in R efficient and concise.</p>
<p>For example, let’s say all the ages in our bighorn mortality dataset are off by one year. To correct this, we can simply add 1 to the entire Age column. This works because R applies the operation to each element of the vector. But first, we need to make sure the Age column is numeric. If it’s stored as character or factor, we need to coerce it to numeric before performing the math. Because R vectorizes math operations, the + 1 is automatically applied to every value in the Age column, and the result is stored in the new AgeNew column—no loop required.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="data-org.html#cb193-1" tabindex="-1"></a><span class="fu">class</span>(mort<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="data-org.html#cb195-1" tabindex="-1"></a>mort<span class="sc">$</span>AgeNew <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(mort<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="data-org.html#cb197-1" tabindex="-1"></a>mort<span class="sc">$</span>AgeNew <span class="ot">&lt;-</span> mort<span class="sc">$</span>AgeNew <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<p>We see a warning about NAs being introduced when coercing values to a numeric data type. This happens because some entries in the Age column aren’t purely numeric—for example, values like “4+” or “&gt;7” contain extra characters. Since R can’t interpret these as numbers, it replaces them with NA.</p>
<p>In practice, we could clean this column so it contains only numeric values. One way to do that is by using the gsub() function along with a regular expression to remove non-numeric characters. I’ll show you the code below for reference, but we won’t be covering regular expressions in detail during this workshop.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="data-org.html#cb198-1" tabindex="-1"></a>mort<span class="sc">$</span>AgeNew <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;[^0-9.]&quot;</span>, <span class="st">&quot;&quot;</span>, mort<span class="sc">$</span>Age)  <span class="co"># Remove all non-numeric characters</span></span>
<span id="cb198-2"><a href="data-org.html#cb198-2" tabindex="-1"></a>mort<span class="sc">$</span>AgeNew <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(mort<span class="sc">$</span>AgeNew) <span class="co"># Coerce from character to numeric data mode</span></span>
<span id="cb198-3"><a href="data-org.html#cb198-3" tabindex="-1"></a><span class="fu">head</span>(mort<span class="sc">$</span>AgeNew, <span class="at">n =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1]  6 11  0  5  4  9  0  3 10  2</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="data-org.html#cb200-1" tabindex="-1"></a>mort<span class="sc">$</span>AgeNew <span class="ot">&lt;-</span> mort<span class="sc">$</span>AgeNew <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb200-2"><a href="data-org.html#cb200-2" tabindex="-1"></a><span class="fu">head</span>(mort<span class="sc">$</span>AgeNew, <span class="at">n =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1]  7 12  1  6  5 10  1  4 11  3</code></pre>
</div>
<div id="data-frame-manipulation" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Data Frame Manipulation<a href="data-org.html#data-frame-manipulation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s create a new column to hold information on whether bighorn age is &lt; 5:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="data-org.html#cb202-1" tabindex="-1"></a>below_five <span class="ot">&lt;-</span> mort<span class="sc">$</span>Age <span class="sc">&lt;</span> <span class="dv">5</span></span>
<span id="cb202-2"><a href="data-org.html#cb202-2" tabindex="-1"></a><span class="fu">head</span>(below_five)</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE FALSE  TRUE FALSE</code></pre>
<p>We’ve created a simple vector of TRUE/FALSE values. To add it to our data frame, we can use the cbind() function, which binds columns together. In this case, it combines our existing data frame with the new logical vector as an additional column.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="data-org.html#cb204-1" tabindex="-1"></a>mort <span class="ot">&lt;-</span> <span class="fu">cbind</span>(mort, below_five)</span>
<span id="cb204-2"><a href="data-org.html#cb204-2" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">cbind</span>(mort, below_five), <span class="dv">3</span>)</span></code></pre></div>
<pre><code>##   NecropDateDt NecropDate DeadDateDt DeadDate Date1stHeardDt Date1stHeard
## 1    31-Jan-25   20250131  22-Jan-25 20250122      30-Jan-25     20250130
## 2    21-Jan-25   20250121  25-Jun-23 20230625                          NA
## 3    05-Jan-25   20250105  02-Dec-24 20241202      02-Dec-24     20241202
##   AgeCarcass BestDead AnimalYear      Recorder           Herd Animal_ID     Sex
## 1          9       NA         NA     C_Massing Mt. Williamson      M267    Male
## 2        583       NA         NA M_Christopher     Mt. Baxter      M266    Male
## 3         33 20241202       2024      L_Greene      Mt. Gibbs      M265 Unknown
##   Age    AgeEstMethod GPS_CollarSerialNo_Date_FK CollarSN VHF_freq
## 1   6      Horn Rings                                             
## 2  11      Horn Rings                                             
## 3   0 Size of Remains                                             
##                                                     Location  InvestReason
## 1 On Shepherd Pass trail, 1 mi up from TH, ~6800ft elevation Opportunistic
## 2                                                   Sand Mtn Opportunistic
## 3                                              Gibbs, S side  Lion Cluster
##    UTM_E   UTM_N ElevDEM CarcassCon Cause_Mort CausMortAcc
## 1 384668 4067085      NA   Consumed       Lion     Certain
## 2 384854 4085215      NA   Consumed    Unknown            
## 3 306232 4193944      NA   Consumed       Lion     Certain
##                                                                                                        ConditionNotes
## 1                      skeleton intact, ribs clipped, eaten, most meat eaten but not all, legs with hair still intact
## 2 old carcass, bleached bones, still close together, complete skull attached to spine, couple loose ribs, jaw, pelvis
## 3                                                             rumen and lower leg, snow may have covered some remains
##                                                                                                                   Evidence
## 1                                                                                rumen intact, ribs clipped, hair plucked.
## 2 could be lion, clipped ribs, broken pelvis, leg bones chewed, all bones clost together, but it is all too old to be sure
## 3                                                                            lion cluster, broken long bones, rumen intact
##                                                                                                                                                                                                                                                                                                          Comments
## 1 Lion could have scavenged dead sheep. Sheep on trail, not below cliff. Collected scat in possible latrine, it was liquid (had dried), hard to know if it was lion scat. Lion hairs found in bed near carcass. Snow fell 5 days before and did not find clear tracks around carcass other than human and canine.
## 2                                                                                                                                                                                                    estimated date of death based on condition of bones, very unknown but skeleton still there and mostly intact
## 3                                                                                                                                                                                                                                     metarsus measured ~21cm which could be very small adult or more likely lamb
##   CauseMortRevised RevisionReason PhotoTaken Houndsmen RumenIntact TracksFound
## 1                                          Y                     Y           N
## 2                                          Y                     N           N
## 3                                          Y                     Y            
##   ScatFound DragMarks Latrine Femur Tooth Mandible Skull LionID
## 1                   N             N     N        N     N       
## 2         N         N       N     N     N        N     N       
## 3                                                           267
##   KillLocUsingGPSData LionClusterID AgeNew below_five below_five
## 1                   N                    7      FALSE      FALSE
## 2                   N                   12       TRUE       TRUE
## 3                   Y  267_20241202      1       TRUE       TRUE</code></pre>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="data-org.html#cb206-1" tabindex="-1"></a><span class="fu">head</span>(mort, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>##   NecropDateDt NecropDate DeadDateDt DeadDate Date1stHeardDt Date1stHeard
## 1    31-Jan-25   20250131  22-Jan-25 20250122      30-Jan-25     20250130
## 2    21-Jan-25   20250121  25-Jun-23 20230625                          NA
## 3    05-Jan-25   20250105  02-Dec-24 20241202      02-Dec-24     20241202
##   AgeCarcass BestDead AnimalYear      Recorder           Herd Animal_ID     Sex
## 1          9       NA         NA     C_Massing Mt. Williamson      M267    Male
## 2        583       NA         NA M_Christopher     Mt. Baxter      M266    Male
## 3         33 20241202       2024      L_Greene      Mt. Gibbs      M265 Unknown
##   Age    AgeEstMethod GPS_CollarSerialNo_Date_FK CollarSN VHF_freq
## 1   6      Horn Rings                                             
## 2  11      Horn Rings                                             
## 3   0 Size of Remains                                             
##                                                     Location  InvestReason
## 1 On Shepherd Pass trail, 1 mi up from TH, ~6800ft elevation Opportunistic
## 2                                                   Sand Mtn Opportunistic
## 3                                              Gibbs, S side  Lion Cluster
##    UTM_E   UTM_N ElevDEM CarcassCon Cause_Mort CausMortAcc
## 1 384668 4067085      NA   Consumed       Lion     Certain
## 2 384854 4085215      NA   Consumed    Unknown            
## 3 306232 4193944      NA   Consumed       Lion     Certain
##                                                                                                        ConditionNotes
## 1                      skeleton intact, ribs clipped, eaten, most meat eaten but not all, legs with hair still intact
## 2 old carcass, bleached bones, still close together, complete skull attached to spine, couple loose ribs, jaw, pelvis
## 3                                                             rumen and lower leg, snow may have covered some remains
##                                                                                                                   Evidence
## 1                                                                                rumen intact, ribs clipped, hair plucked.
## 2 could be lion, clipped ribs, broken pelvis, leg bones chewed, all bones clost together, but it is all too old to be sure
## 3                                                                            lion cluster, broken long bones, rumen intact
##                                                                                                                                                                                                                                                                                                          Comments
## 1 Lion could have scavenged dead sheep. Sheep on trail, not below cliff. Collected scat in possible latrine, it was liquid (had dried), hard to know if it was lion scat. Lion hairs found in bed near carcass. Snow fell 5 days before and did not find clear tracks around carcass other than human and canine.
## 2                                                                                                                                                                                                    estimated date of death based on condition of bones, very unknown but skeleton still there and mostly intact
## 3                                                                                                                                                                                                                                     metarsus measured ~21cm which could be very small adult or more likely lamb
##   CauseMortRevised RevisionReason PhotoTaken Houndsmen RumenIntact TracksFound
## 1                                          Y                     Y           N
## 2                                          Y                     N           N
## 3                                          Y                     Y            
##   ScatFound DragMarks Latrine Femur Tooth Mandible Skull LionID
## 1                   N             N     N        N     N       
## 2         N         N       N     N     N        N     N       
## 3                                                           267
##   KillLocUsingGPSData LionClusterID AgeNew below_five
## 1                   N                    7      FALSE
## 2                   N                   12       TRUE
## 3                   Y  267_20241202      1       TRUE</code></pre>
<p>If we try to add the below_average vector to our data frame but it has a different number of elements than there are rows in the data frame, R will return an error. The number of entries must match for the columns to align correctly.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="data-org.html#cb208-1" tabindex="-1"></a>below_five <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb208-2"><a href="data-org.html#cb208-2" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">cbind</span>(mort, below_five))</span></code></pre></div>
<p>Now let’s look at how we might add rows to a data frame.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="data-org.html#cb209-1" tabindex="-1"></a><span class="co"># first let&#39;s make a mortality dataframe of 3 columns</span></span>
<span id="cb209-2"><a href="data-org.html#cb209-2" tabindex="-1"></a>mort_short <span class="ot">&lt;-</span> mort[,<span class="fu">c</span>(<span class="st">&quot;Animal_ID&quot;</span>, <span class="st">&quot;Age&quot;</span>, <span class="st">&quot;Cause_Mort&quot;</span>)]</span>
<span id="cb209-3"><a href="data-org.html#cb209-3" tabindex="-1"></a>new_row <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&#39;S781&#39;</span>, <span class="dv">3</span>, <span class="st">&quot;Lion&quot;</span>) </span>
<span id="cb209-4"><a href="data-org.html#cb209-4" tabindex="-1"></a><span class="co"># note that we have to make the row a list, since each column has a different data type</span></span>
<span id="cb209-5"><a href="data-org.html#cb209-5" tabindex="-1"></a>mort_new <span class="ot">&lt;-</span> <span class="fu">rbind</span>(mort_short, new_row)</span>
<span id="cb209-6"><a href="data-org.html#cb209-6" tabindex="-1"></a><span class="fu">tail</span>(mort_new) <span class="co"># lets you look at the last 6 lines of data</span></span></code></pre></div>
<hr />
<p><strong><code>EXERCISE</code></strong></p>
<ol style="list-style-type: decimal">
<li>Load the bighorn mort table from the bighorn database and assign it the variable name of “mort”</li>
<li>Print the names of the mort dataframe using <code>names()</code> and <code>dput(names(mort))</code>. Why might using dput(names(mort)) be helpful?</li>
<li>Select these columns: DeadDate, Animal_ID, COM, Sex, Age, Herd, Recorder</li>
<li>Subset to just females using the <code>subset()</code>, which indexing, and the <code>filter()</code> function.</li>
<li>Subset to herds that are not Cathedral or Big Arroyo. You will need to use <code>!</code> and the <code>%in%</code>. Any subsetting method is ok to use</li>
<li>Subset to herds in the Souther Recovery Unit: Mt. Baxter, Mt. Langley, Taboose Creek, Sawmill Canyon, Bubbs Creek, Mt. Williamson. You will need to use <code>%in%</code>. Any subsetting method is ok to use</li>
<li>Subset to only lion caused mortalities. Use the <code>unique()</code> function on the column <code>COM</code> to print the category names in the <code>COM</code> column. This will provide information on the correct syntax to use for subsetting. For example, is it “Lion”, “lion”, or “mountain lion”. Syntax matters in R.</li>
<li>How many rows and columns are in the mort data frame.</li>
<li>Use <code>View()</code> to view you data frame</li>
</ol>
<hr />

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="import-export.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="control.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/07-DataOrg.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro-to-r.pdf", "intro-to-r.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
